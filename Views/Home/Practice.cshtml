@model IEnumerable<KhoaLuanTotNghiep.Models.PHONGLUYENTAP>
@using KhoaLuanTotNghiep.Models;


@{
    ViewBag.Title = "Practice";
    Layout = "~/Views/Shared/_LayoutAdmin.cshtml";
}
<style>
    .practice .btn{
        background-color: rgb(230, 230, 230);
    }

    .body1 {
        background-image: url(https://kidsgoflash.com/wp-content/uploads/2017/02/kidsgoflash_sky_birds2.jpg);
        background-color: rgba(255,255,255,0.7);
        background-blend-mode: screen;
        background-position: center top;
        background-size: cover;
        background-repeat: no-repeat;
    }

    .modal-backdrop {
        position: fixed;
        top: 0;
        right: 0;
        bottom: 0;
        left: 0;
        background-color: #333333;
        opacity: 0;
    }
   

</style>
<link rel="preconnect" href="https://fonts.gstatic.com">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
<link rel="stylesheet" type="text/css" href="~/Content/style.css" />

@using (Html.BeginForm("searchGroup", "Account"))
{
    <div class="body1" style="position: absolute; padding-top: 30px; display: flex; flex-direction: row; flex-wrap: wrap; overflow: auto; justify-content: flex-start;margin-left:-20px;padding-left:20px;">
        @{
            List<TAIKHOANPHONGLUYENTAP> tkpt = ViewData["tkpt"] as List<TAIKHOANPHONGLUYENTAP>;
        }

        <div class="container-fluid" style="height:40px;display:flex;align-items:center;justify-content:flex-end;position:fixed;right:60px;">
            <h1 style="margin-right:550px;font-weight:400;">các bài luyện tập</h1>
            <input type="text" name="searchGroup1" placeholder="Tên nhóm ..." style="border-radius:2rem; padding-left:20px;outline:none;width:22%;height:100%;border:none;background-color:rgb(234, 234, 225);" />
            <input type="submit" value="Search" style="position:absolute;right:15px;height:100%;border-radius:2rem;width:5%;display:flex;align-items:center;justify-content:center; background-color:rgb(30, 47, 47); color:white;" />

        </div>

        <div style="width:100%;display:flex;flex-direction:row; flex-wrap:wrap; margin-top:80px; height:590px;overflow:auto;">
            @if (Model.Count() > 0)
            {
                foreach (var std in Model)
                {

                    <div class="flashcard-item" style="border:1px solid gray; width:27%; height:260px;margin-left:30px; margin-bottom:30px;margin-right:30px;border-radius:2rem;padding:20px;position:relative;margin-top:5px;background:linear-gradient(to right,rgb(242, 242, 242),white);box-shadow:0 0 5px grey;">
                        <div class="ct1" style="overflow:hidden;width:324px;height:256px;">
                            <h2 id="h1" style=" color:grey;margin-top:10px; transition:all 1s;width:100000px; margin-left:5px;" value="@std.TENPHONG">@std.TENPHONG.ToUpper()</h2>
                            <label style="margin-left:10px;">Số người tham gia luyện tập : @tkpt.Where(t => t.IDPLT == std.IDPLT).ToList().Count()</label>
                            <label style="margin-left:10px;">Số từ vựng : @std.TUVUNGPHONGLUYENTAPs.ToList().Count()</label>
                            <div style="width:100%;display:flex;flex-direction:row;height:50px;position:relative">
                                @Html.ActionLink("Chỉnh sửa", "FixExam", "Home", new { id = std.IDPLT }, new { @style = "margin-top:30px;border:2px solid gray; border-radius:2rem;width:40%;height:100%;position:absolute;margin-left:10px;display:flex;justify-content:center;align-items:center;background-color:green;color:white;" })
                                @Html.ActionLink("Xóa", "ExamRoom", "Exam", new { id = std.IDPLT }, new { @style = "margin-top:30px;border:2px solid gray; border-radius:2rem;width:40%;height:100%;position:absolute;margin-left:160px;display:flex;justify-content:center;align-items:center;background-color:red;color:white;" })
                            </div>

                        </div>
                    </div>
                }
            }
            <div class="flashcard-item" style="border:1px solid gray; width:27%; height:260px;margin-left:30px; margin-bottom:30px;margin-right:30px;border-radius:2rem;padding:20px;position:relative;margin-top:5px;box-shadow:0 0 5px grey;">
                <div class="ct1" style="overflow:hidden;width:100%;height:100%;background-color:rgb(242, 242, 242);border-radius:2rem;display:flex;justify-content:center;align-items:center;">
                    <div style="background:gray; width:70px;height:70px;clip-path: circle(50% at 50% 50%);display:flex; justify-content:center;align-items:center;" id="add-TV"data-toggle="modal" data-target="#myModalCreate">
                        <div style="background-color: black; width: 30px; height: 30px;clip-path: polygon(35% 0%,65% 0%,65% 35%,100% 35%,100% 60%,65% 60%,65% 100%,35% 100%,35% 60%,0% 60%,0% 35%,35% 35%);" >
                        </div>
                    </div>
                </div>
            </div>

        </div>


    </div>

}

<div class="modal" id="myModalCreate" >
    <div class="modal-dialog">
        <div class="modal-content">

            <!-- Modal Header -->
            <div class="modal-header">
                <h4 class="modal-title">Tạo bài luyện tập</h4>
            </div>

            @using (Html.BeginForm("PracticesEdit", "Home"))
            {
                <!-- Modal body -->
                <div class="modal-body">
                    <input type="text" name="topic" id="topic" class="w-100" placeholder="Tên bài luyện tập ..." required><br>
                    <div class="mt-3" style=" width:100%;height:50px;display:flex;justify-content:space-between;align-items:center;">
                        <h5>Số câu hỏi: </h5>
                        <input type="number" id="question" name="question" min="1" max="50" style="height:80%;">
                        <h5>Thời gian (Phút): </h5>
                        <input type="number" id="time" name="time" min="1" max="1000" style="height:80%;">
                    </div>
                    <input type="submit" value="Thêm" class=" mt-3 btn btn-success w-100">
                    <input type="text" name="topicID" id="topicId" class="w-100" style="opacity:0;height:1px;" />

                </div>
            }



        </div>
    </div>
</div>



<script>
    $(document).ready(function () {


        $(`input`).attr("autocomplete", "off");

        
        $(`.editTopic`).click(function () {
            var idcd = $(this).attr("id").toString();
            var tencd = document.getElementsByClassName(idcd)[0].textContent;
            $(`#topic`).attr("value", tencd);
            $(`#topicId`).attr("value", idcd);
        })
    });
</script>
